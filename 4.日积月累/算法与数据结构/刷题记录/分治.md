## åˆ†æ²»
### Pow(x,n)
#### é¢˜ç›®
å®ç° pow(x, n) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ï¼ˆå³ $x^n$ ï¼‰
#### æ€è·¯
* å½“æˆ‘ä»¬è¦è®¡ç®— $x^n$æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€’å½’åœ°è®¡ç®—å‡º $y = x^{ n/2 }$ï¼Œå…¶ä¸­`[n/2]`è¡¨ç¤ºå¯¹nè¿›è¡Œä¸‹å–æ•´;
* æ ¹æ®é€’å½’è®¡ç®—çš„ç»“æœï¼Œå¦‚æœ n ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆ $x^n = y^2$ ï¼›å¦‚æœ n ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆ $yx^n = y^2$ï¼›
* é€’å½’çš„è¾¹ç•Œä¸º n = 0ï¼Œä»»æ„æ•°çš„ 0æ¬¡æ–¹å‡ä¸º 1ã€‚
#### é¢˜è§£
```java
class Solution {
    public double myPow(double x, int n) {
        long N = n;  //ç»™å®šnèŒƒå›´ä¸ºè´Ÿæ•°æ—¶å¯èƒ½ä¼šè¶…è¿‡é™åˆ¶
        return N >= 0 ? quickMul(x, N) : 1.0 / quickMul(x, -N);
    }

    public double quickMul(double x, long N) {
        if (N == 0) {
            return 1.0;
        }
        double y = quickMul(x, N / 2);
        return N % 2 == 0 ? y * y : y * y * x;
    }
}
----------------------------éé€’å½’---------------------------------------
class Solution {
    public double myPow(double x, int n) {
        long b=n;
        double ans = 1.0;
        if(b<0) {
            x=1/x;
            b=-b;
        }
        while(b>0){
            if(b%2!=0){
                ans = ans * x;
            }
            x*=x;
            b>>=1;
        }
        return ans;
    }
}
```

### è¶…çº§æ¬¡æ–¹

#### é¢˜ç›®

ä½ çš„ä»»åŠ¡æ˜¯è®¡ç®— `ab` å¯¹ `1337` å–æ¨¡ï¼Œ`a` æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œ`b` æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ­£æ•´æ•°ä¸”ä¼šä»¥æ•°ç»„å½¢å¼ç»™å‡ºã€‚

ç¤ºä¾‹

```txt
è¾“å…¥ï¼ša = 2, b = [3]
è¾“å‡ºï¼š8
è¾“å…¥ï¼ša = 2, b = [1,0]
è¾“å‡ºï¼š1024
è¾“å…¥ï¼ša = 1, b = [4,3,3,8,5,2]
è¾“å‡ºï¼š1
è¾“å…¥ï¼ša = 2147483647, b = [2,0,0]
è¾“å‡ºï¼š1198
```

#### æ€è·¯

è¦æ±‚çš„æ˜¯$a^bmod1337$ çš„å€¼

å‡è®¾bæ‰€ä»£è¡¨çš„æ•°å€¼ä¸ºKï¼š

$$a^K=a^{(\frac{K}{10}*10)+(K\%10)}=a^{(\frac{K}{10}*10)}*a^{(K\%10)}=(a^{\frac{K}{10}})^{10}*a^{K\%10}$$

ä¸¾ä¸ªğŸŒ°ï¼Œè®¾aä¸º99

0. $a^K=99^{2345}$
1. $99^{2345}=99^{234*10+5}$
2. $99^{234*10+5}=99^{234*10}*99^5$
3. $99^{234*10}*99^5=(99^{234})^{10}*99^5$
4. ...

#### é¢˜è§£

```java
class Solution{
    int MOD = 1337;
    
    public int superPow(int a, int[] b){
        return dfs(a, b, b.length - 1);
    }
    
    int dfs(int a, int[] b, int u){
        if(u == -1) return 1;
        return qpow( dfs(a,b,u-1), 10) * qpow(a, b[u]) % MOD;
    }
    
    int qpow(int a, int b){
        int ans = 1;
        a % = MOD;
        while(b !=0 ){
            if((b&1)!=0) ans = ans * a % MOD;
            a = a * a % MOD;
            b >>= 1;
        }
        return ans;
    }
}
```